<html>

<head>
  <script src="../lib/d3.v3.js"></script>

  <style>
    svg {
      background-color: white
    }
  </style>
</head>

<body>


  <script>
    var dataSet = [1, 3, 5, 7, 10, 15, 20, 30, 10]

    var max = d3.max(dataSet);
    var length = dataSet.length;

    var w = 500;
    var sectorWidth = w / length;
    var h = 400;
    var unit = h / max;

    var svg = d3.select("body").append("svg").style("overflow", "visible")
      .attr("width", w)
      .attr("height", h);

    svg.selectAll("rect").data(dataSet)
      .enter().append("rect")
      .attr("x", function (d, i) { return i * sectorWidth })
      .attr("y", function (d, i) { return max * unit - d * unit })
      .attr("width", sectorWidth * 0.5)
      .attr("height", function (d) { return d * unit })
      .attr("fill", function (d) {
        return "rgb(0, 0, " + (d * 10) + ")";
      })
    svg.selectAll("text")
      .data(dataSet)
      .enter()
      .append("text")
      .text(d => d)
      .attr("x", function (d, i) { return i * sectorWidth + 0.25 * sectorWidth })
      .attr("y", function (d, i) { return max * unit - d * unit + 20 })
      .attr("text-anchor", "middle")
      .attr("fill","white")


  </script>

</body>

</html>